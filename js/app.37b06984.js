(function(t){function e(e){for(var n,o,r=e[0],l=e[1],c=e[2],d=0,m=[];d<r.length;d++)o=r[d],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&m.push(i[o][0]),i[o]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);u&&u(e);while(m.length)m.shift()();return s.push.apply(s,c||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],n=!0,o=1;o<a.length;o++){var l=a[o];0!==i[l]&&(n=!1)}n&&(s.splice(e--,1),t=r(r.s=a[0]))}return t}var n={},i={app:0},s=[];function o(t){return r.p+"js/"+({about:"about"}[t]||t)+"."+{about:"10ea5353"}[t]+".js"}function r(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.e=function(t){var e=[],a=i[t];if(0!==a)if(a)e.push(a[2]);else{var n=new Promise((function(e,n){a=i[t]=[e,n]}));e.push(a[2]=n);var s,l=document.createElement("script");l.charset="utf-8",l.timeout=120,r.nc&&l.setAttribute("nonce",r.nc),l.src=o(t);var c=new Error;s=function(e){l.onerror=l.onload=null,clearTimeout(d);var a=i[t];if(0!==a){if(a){var n=e&&("load"===e.type?"missing":e.type),s=e&&e.target&&e.target.src;c.message="Loading chunk "+t+" failed.\n("+n+": "+s+")",c.name="ChunkLoadError",c.type=n,c.request=s,a[1](c)}i[t]=void 0}};var d=setTimeout((function(){s({type:"timeout",target:l})}),12e4);l.onerror=l.onload=s,document.head.appendChild(l)}return Promise.all(e)},r.m=t,r.c=n,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(a,n,function(e){return t[e]}.bind(null,n));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/",r.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],c=l.push.bind(l);l.push=e,l=l.slice();for(var d=0;d<l.length;d++)e(l[d]);var u=c;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";a("85ec")},"0863":function(t,e,a){"use strict";a("cc0f")},1606:function(t,e,a){},"1b1b":function(t,e,a){},"2da4":function(t,e,a){},3004:function(t,e,a){"use strict";a("2da4")},"30b9":function(t,e,a){"use strict";a("67bb")},"34a1":function(t,e,a){"use strict";a("bef8")},4678:function(t,e,a){var n={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function i(t){var e=s(t);return a(e)}function s(t){if(!a.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}i.keys=function(){return Object.keys(n)},i.resolve=s,t.exports=i,i.id="4678"},"4eb3":function(t,e,a){"use strict";a("1b1b")},5526:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"radio"}},[a("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:function(){t.editable=!1,t.editing(!1)},expression:"()=>{editable = false;editing(false)}"}],class:(t.editable?"hold":"")+" "+(t.full&&0==t.dragging?"py-2":"py-0")},[t.editable?a("div",{staticClass:"px-3"},[a("v-text-field",{staticClass:"font-weight-bold mb-4",attrs:{placeholder:"Câu hỏi","hide-details":""},on:{focus:t.focusable},model:{value:t.data.Text,callback:function(e){t.$set(t.data,"Text",e)},expression:"data.Text"}}),a("draggable",t._b({attrs:{element:"span",group:{name:"radio-question"},handle:".radio","ghost-class":t.ee},on:{sort:function(e){return t.$store.commit("setQID")}},model:{value:t.data.Option,callback:function(e){t.$set(t.data,"Option",e)},expression:"data.Option"}},"draggable",t.dragOptions,!1),[a("transition-group",{staticClass:"py-0",attrs:{type:"transition",group:"",tag:"div"}},t._l(t.data.Option,(function(e,n){return a("div",{key:n,staticClass:"white rounded",on:{mouseover:function(e){t.hoverItem=n}}},[a("v-text-field",{class:"py-0 my-0 text-body-1 "+(t.curentItem==n?"":"custom")+" "+(void 0==e.Question?"":"grey lighten-3"),attrs:{placeholder:"Tuỳ chọn "+(n+1),rules:[t.$store.state.required],"hide-details":"",autofocus:n==t.focusItem},on:{click:function(e){t.curentItem=n,t.focusItem=n},focus:t.focusable,change:function(e){t.removeEmptyOption(),t.removeChild()}},scopedSlots:t._u([{key:"prepend",fn:function(){return[a("v-icon",{staticClass:"radio"},[t._v("mdi-drag-vertical")]),a("v-icon",[t._v("mdi-radiobox-blank")])]},proxy:!0},{key:"append-outer",fn:function(){return[a("v-btn",{directives:[{name:"show",rawName:"v-show",value:(n==t.curentItem||n==t.hoverItem)&&void 0==e.Question&&t.full,expression:"(i==curentItem||i==hoverItem)&&item.Question == undefined&&full"}],key:n,attrs:{small:"",color:"grey darken-2",icon:""},on:{click:function(e){t.addChild(n),t.$store.commit("setQID"),t.added=!t.added,t.toggle=n}}},[a("v-icon",[t._v("mdi-plus")])],1),a("v-btn-toggle",{attrs:{tile:"",borderless:"","background-color":"transparent"},model:{value:t.toggle,callback:function(e){t.toggle=e},expression:"toggle"}},[a("v-btn",{directives:[{name:"show",rawName:"v-show",value:void 0!=e.Question&&t.full,expression:"(item.Question != undefined&&full)"}],key:n,attrs:{ripple:!1,rounded:"",small:"","active-class":"rad",value:n,icon:""}},[a("v-icon",[t._v("mdi-chevron-"+t._s(t.toggle==n?"up":"down"))])],1)],1),t.data.Option.length>2?a("v-btn",{attrs:{small:"",color:"grey darken-2",icon:""},on:{click:function(e){t.change(),t.data.Option.splice(n,1),t.curentItem=-1,t.focusItem=-1}}},[a("v-icon",[t._v("mdi-close")])],1):t._e()]},proxy:!0}],null,!0),model:{value:t.data.Option[n].Text,callback:function(e){t.$set(t.data.Option[n],"Text",e)},expression:"data.Option[i].Text"}}),a("child-control",{directives:[{name:"show",rawName:"v-show",value:t.toggle==n,expression:"toggle == i"}],attrs:{index:n,data:e,change:t.change}})],1)})),0)],1),a("div",[a("v-text-field",{staticClass:"text-body-1 custom my-1 ml-6",staticStyle:{width:"150px"},attrs:{color:"grey lighten-4 my-2","prepend-icon":"mdi-radiobox-blank",dense:"","hide-details":"",placeholder:"Thêm tuỳ chọn"},on:{click:function(e){e.stopPropagation(),t.data.Option.push({Text:"Tùy chọn "+(t.data.Option.length+1)}),t.focusItem=t.data.Option.length-1,t.curentItem=t.data.Option.length-1}}})],1),a("v-divider",{staticClass:"my-4"}),a("v-flex",{staticClass:"mx-3"},[a("v-row",[a("v-col",{staticClass:"drag",staticStyle:{height:"40px"},attrs:{cols:"2"}}),a("v-spacer"),a("toolbax",{attrs:{remove:t.remove,change:t.change},on:{editable:function(e){t.editing(!1),t.editable=e,t.outside()}}})],1)],1)],1):t._e(),t.editable?t._e():a("div",{on:{click:function(e){t.editable=!0,t.editing(!0)}}},[t.full&&0==t.dragging?a("div",[a("div",{staticClass:"text-start mb-1 font-weight-bold"},[t._v(t._s(t.data.Text))]),a("v-radio-group",{staticClass:"mt-0 my-1",attrs:{"hide-details":"",mandatory:!1}},[t._l(t.data.Option,(function(e,n){return a("div",{key:n},[a("div",{staticClass:"mb-1"},[a("v-icon",[t._v("mdi-radiobox-blank")]),a("span",{staticClass:"ml-2",domProps:{textContent:t._s(e.Text)}})],1)])})),a("draggable",t._b({attrs:{element:"span",group:{name:"question"},sort:!1,handle:".handle"},model:{value:t.data.Option,callback:function(e){t.$set(t.data,"Option",e)},expression:"data.Option"}},"draggable",t.dragOptions,!1))],2)],1):t._e(),0==t.full&&0==t.dragging?a("div",{attrs:{align:"left"}},[a("v-flex",{staticClass:"grey lighten-3 rounded pa-2"},[a("span",{staticClass:"mr-2"},[a("v-icon",[t._v("mdi-radiobox-marked")])],1),a("span",{staticClass:"text-subtitle-2 mb-2",domProps:{textContent:t._s("Trắc nghiệm")}})])],1):t._e(),t.dragging?a("div",{attrs:{align:"left"}},[a("v-flex",{staticClass:"grey lighten-3 rounded pa-2"},[a("span",{staticClass:"mr-2"},[a("v-icon",[t._v("mdi-radiobox-marked")])],1),a("span",{staticClass:"text-subtitle-2 mb-2",domProps:{textContent:t._s(t.data.Text)}})])],1):t._e()])])])},i=[],s=(a("d81d"),a("a434"),a("a9e3"),a("498a"),a("5530")),o=a("b76a"),r=a.n(o),l=a("95e3"),c=a("bb1c"),d={name:"Radio",props:{change:Function,data:{QID:String,Text:String,Option:Array},index:Number,full:{type:Boolean,default:!0},dragging:{type:Boolean,default:!1}},data:function(){return{editable:!1,added:!1,curentItem:-1,focusItem:-1,hoverItem:-1,toggle:-1}},methods:{outside:function(){this.hoverItem=-1,this.curentItem=-1,this.focusItem=-1},removeEmptyOption:function(){var t=this;this.data.Option.length<=2?this.data.Option.map((function(e,a){0==e.Text.trim().length&&(t.data.Option[a]=Object(s["a"])(Object(s["a"])({},t.data.Option[a]),{},{Text:"Tuỳ chọn "+(a+1)}))})):this.data.Option.map((function(e,a){if(0==e.Text.trim().length)return t.toggle=-1,void t.data.Option.splice(a,1)}))},editing:function(t){this.removeChild(),this.removeEmptyOption(),this.$store.commit("setChinhSua",t)},remove:function(){this.$emit("remove",this.index)},focusable:function(t){t.target.select()},addChild:function(t){this.data.Option=this.data.Option.map((function(e,a){return t===a?Object(s["a"])(Object(s["a"])({},e),{},{Des:"",Question:[{QID:"",Required:!1,Type:"TextBox",Text:"Câu hỏi",Holder:""}]}):e})),this.$store.commit("setQID")},removeChild:function(){var t=this;this.data.Option.map((function(e){void 0!=e.Question&&0==e.Question.length&&(t.$delete(e,"Question"),t.$delete(e,"Des"))}))}},components:{ChildControl:c["a"],draggable:r.a,toolbax:l["a"]},computed:{dragOptions:function(){return{animation:200,disabled:!1,ghostClass:"ghost"}}}},u=d,m=(a("30b9"),a("2877")),p=a("6544"),g=a.n(p),f=a("8336"),v=a("a609"),h=a("62ad"),b=a("ce7e"),x=a("0e8f"),y=a("132d"),k=a("43a6"),_=a("0fd9"),C=a("2fa4"),T=a("8654"),w=a("269a"),D=a.n(w),j=a("a293"),O=Object(m["a"])(u,n,i,!1,null,null,null);e["default"]=O.exports;g()(O,{VBtn:f["a"],VBtnToggle:v["a"],VCol:h["a"],VDivider:b["a"],VFlex:x["a"],VIcon:y["a"],VRadioGroup:k["a"],VRow:_["a"],VSpacer:C["a"],VTextField:T["a"]}),D()(O,{ClickOutside:j["a"]})},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("v-navigation-drawer",{ref:"navdrawer",attrs:{width:"300",fixed:"",app:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[a("navdrawer",{on:{pubTemplate:t.loadTemplateExist}})],1),a("v-main",[t.loading?t._e():a("MainForm",{attrs:{change:t.change,dragging:t.dragging,templates:t.templates}}),t.loading?a("v-container",{attrs:{fluid:"","fill-height":""}},[a("v-layout",{attrs:{"justify-center":"","align-center":""}},[a("v-progress-circular",{attrs:{size:50,color:"primary",indeterminate:""}})],1)],1):t._e(),t.retry?a("div",[a("v-btn",{on:{click:function(e){return t.loadTemplateExist(t.id)}}},[t._v("Tải lại")])],1):t._e(),a("v-hover",{attrs:{"open-delay":"0"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.hover;return[a("v-snackbar",{class:{"on-hover":n},attrs:{timeout:n?-1:t.snackbar.timeout,elevation:"24",bottom:"",left:""},scopedSlots:t._u([{key:"action",fn:function(e){var n=e.attrs;return[a("v-btn",t._b({attrs:{color:"yellow",text:""},on:{click:function(e){t.undo(),t.snackbar.snackbar=!1}}},"v-btn",n,!1),[t._v(" Hoàn tác ")])]}}],null,!0),model:{value:t.snackbar.snackbar,callback:function(e){t.$set(t.snackbar,"snackbar",e)},expression:"snackbar.snackbar"}},[t._v(" Đã thay đổi 1 mục ")])]}}])}),t.$store.state.template.Part[0].Question.length>1?a("v-btn",{staticClass:"mr-5",class:t.isDragging?"primary":"",staticStyle:{bottom:"150px"},attrs:{elevation:24,light:"",fab:"",fixed:"",bottom:"",right:"",small:"",ripple:!1},on:{click:function(e){t.isDragging=!t.isDragging}}},[a("v-icon",[t._v("mdi-sort")])],1):t._e(),a("createTemplate",{staticClass:"mr-2"})],1),a("v-footer",{staticClass:"primary",attrs:{fixed:"",app:"",dark:""}},[a("div",{staticClass:"pointer",staticStyle:{"max-width":"50px"}},[a("v-app-bar-nav-icon",{attrs:{dark:""},on:{click:function(e){e.stopPropagation(),t.drawer=!t.drawer}}})],1),a("div",{staticClass:"text-md-subtitle-1 pointer mr-5",domProps:{textContent:t._s("Danh sách mẫu")},on:{click:function(e){e.stopPropagation(),t.drawer=!t.drawer}}}),a("v-spacer"),a("v-divider",{attrs:{vertical:""}}),a("bottombar",{attrs:{data:t.templates,scroll:t.scrollToBottom},on:{dragging:function(e){t.dragging=e}}}),a("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,i=e.attrs;return[a("div",t._g(t._b({attrs:{rounded:""}},"div",i,!1),n),[a("span",{staticClass:"pr-4",attrs:{small:"",dark:"",ripple:!1,icon:""},on:{click:function(e){t.templates.Part.push({Name:"TÊN PHẦN",Des:"Mô tả",Question:[]}),t.$store.commit("setQID"),t.scrollToBottom()}}},[a("v-icon",[t._v("mdi-view-agenda-outline")])],1)])]}}])},[a("span",[t._v("Thêm phần")])]),a("v-divider",{attrs:{vertical:""}}),a("v-spacer"),a("div",{staticClass:"mr-2"},[a("xacnhan",{attrs:{title:"Tạo mẫu mới",message:"Hãy chắc chắn bạn đã lưu mẫu trước khi tạo mới !",icon:!0,src:"mdi-file"},on:{agree:t.createNew}})],1),a("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,i=e.attrs;return[a("div",t._g(t._b({attrs:{rounded:""}},"div",i,!1),n),[a("jsonviewer",{staticClass:"mr-2",attrs:{nameTemplates:t.nameTemplates,data:t.templates}})],1)]}}])},[a("span",[t._v("JSON")])]),a("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,i=e.attrs;return[a("div",t._g(t._b({attrs:{rounded:""}},"div",i,!1),n),[a("v-btn",{staticClass:"mr-2",style:t.viewMode?"":"opacity: 0.5",attrs:{icon:""},on:{click:function(e){return t.$store.commit("setViewMode")}}},[a("v-icon",[t._v(" mdi-eye ")])],1)],1)]}}])},[a("span",[t._v("Chế độ xem : "+t._s(t.viewMode?"Bật":"Tắt"))])]),a("v-btn",{attrs:{small:"",fab:"",icon:""}},[a("v-icon",[t._v("mdi-account")])],1)],1)],1)},s=[],o=a("5530"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"jsonviewer"}},[a("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,i=e.attrs;return[a("v-btn",t._g(t._b({attrs:{fab:"",small:"",dark:"",text:""},on:{click:t.getdata}},"v-btn",i,!1),n),[a("v-icon",[t._v("mdi-code-json")])],1)]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.onClickOutside,expression:"onClickOutside"}],attrs:{align:"center"}},[a("v-toolbar",{attrs:{elevation:"0",color:"primary",dark:"",dense:"",tile:"",height:"30"}},[a("v-spacer"),a("v-toolbar-items",[a("v-btn",{attrs:{text:"",small:""},on:{click:t.copyJson}},[t._v(" copy ")]),a("v-btn",{attrs:{small:"",text:""},on:{click:function(e){return t.downloadJSON(t.data.templateID)}}},[t._v(" Tải xuống ")]),a("xacnhan",{attrs:{disabled:t.saveState,src:"Lưu",title:"Xác nhận thay đổi",message:"Sau khi lưu, mẫu khảo sát sẽ bị thay đổi !",small:""},on:{agree:t.changeData}}),a("v-btn",{attrs:{color:"error",tile:"",small:""},on:{click:function(e){t.dialog=!1}}},[a("v-icon",{attrs:{size:"20"}},[t._v("mdi-close")])],1)],1)],1),a("div",[a("v-card",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.onClickOutside,expression:"onClickOutside"}],attrs:{elevation:"0",scrollable:"",align:"start"}},[a("vue-json-editor",{attrs:{"show-btns":!1,expandedOnStart:!0,mode:"code"},on:{"json-change":t.onJsonChange},model:{value:t.json,callback:function(e){t.json=e},expression:"json"}})],1)],1)],1)],1)],1)},l=[],c=(a("d3b7"),a("3ca3"),a("ddb0"),a("2b3d"),a("45a3")),d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{persistent:"","max-width":"290"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,i=e.attrs;return[a("v-btn",t._g(t._b({attrs:{disabled:t.disabled,text:"",icon:t.icon,rounded:t.rounded,color:t.color,small:t.small}},"v-btn",i,!1),n),[0==t.icon?a("span",[t._v(t._s(t.src))]):t._e(),t.icon?a("v-icon",[t._v(t._s(t.src))]):t._e()],1)]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v(" "+t._s(t.title)+" ")]),a("v-card-text",[t._v(t._s(t.message))]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"warning darken-1",text:""},on:{click:t.agree}},[t._v(" Đồng ý ")]),a("v-btn",{attrs:{color:"success darken-1",text:""},on:{click:function(e){t.dialog=!1}}},[t._v(" Trở lại ")])],1)],1)],1)},u=[],m={name:"xacnhan",props:{disabled:Boolean,title:{type:String,default:"Vui lòng xác nhận"},message:String,icon:{type:Boolean,default:!1},src:{type:String,default:"mdi-account"},rounded:{type:Boolean,default:!1},small:{type:Boolean,default:!1},color:{type:String,default:"white"}},data:function(){return{dialog:!1}},methods:{agree:function(){this.$emit("agree"),this.dialog=!1}}},p=m,g=a("2877"),f=a("6544"),v=a.n(f),h=a("8336"),b=a("b0af"),x=a("99d9"),y=a("169a"),k=a("132d"),_=a("2fa4"),C=Object(g["a"])(p,d,u,!1,null,null,null),T=C.exports;v()(C,{VBtn:h["a"],VCard:b["a"],VCardActions:x["a"],VCardText:x["b"],VCardTitle:x["c"],VDialog:y["a"],VIcon:k["a"],VSpacer:_["a"]});var w={name:"jsonviewer",props:{data:Object,nameTemplates:String},data:function(){return{json:{},dialog:!1,isCopy:!1,editJson:!1,saveState:!0}},methods:{getdata:function(){this.json=this.data},downloadJSON:function(){var t=this.json,e=document.createElement("a");e.href=URL.createObjectURL(new Blob([JSON.stringify(t,null,2)],{type:"application/json"})),e.setAttribute("download",this.data.Title+".json"),document.body.appendChild(e),e.click(),document.body.removeChild(e)},onClickOutside:function(){this.isCopy=!1},copyJson:function(){navigator.clipboard.writeText(JSON.stringify(this.json,null,2)),this.isCopy=!0},changeData:function(){this.saveState=!0,null!=this.json&&this.$store.commit("setTemplate",JSON.stringify(this.json)),this.dialog=!1,this.getdata()},onJsonChange:function(){this.saveState=!1}},computed:{listString:function(){return JSON.stringify(this.json,null,2)}},components:{vueJsonEditor:c["a"],xacnhan:T}},D=w,j=(a("3004"),a("71d9")),O=a("2a7f"),I=a("269a"),V=a.n(I),$=a("a293"),S=Object(g["a"])(D,r,l,!1,null,null,null),N=S.exports;v()(S,{VBtn:h["a"],VCard:b["a"],VDialog:y["a"],VIcon:k["a"],VSpacer:_["a"],VToolbar:j["a"],VToolbarItems:O["a"]}),V()(S,{ClickOutside:$["a"]});var B=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"precommit"}},[a("v-dialog",{attrs:{scrollable:"",width:"400px"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,i=e.attrs;return[a("v-btn",t._g(t._b({staticClass:"mb-15 mr-3",attrs:{color:0==t.$store.state.button.createUpdate&&""!=t.$store.state.template.templateID?"green":1==t.$store.state.button.createUpdate?"warning":"primary",dark:"",fab:"",fixed:"",bottom:"",right:""},on:{click:t.requestTemplateID}},"v-btn",i,!1),n),[a("v-icon",[t._v("mdi-upload")])],1)]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("div",[a("div",{staticClass:"mx-2 mt-2",attrs:{align:"center"}},[a("v-date-picker",{attrs:{width:"100%",locale:"vi-VN",color:"primary","header-color":"primary","show-current":!0,range:""},on:{input:t.fixedDates,change:t.fixedDates,click:t.fixedDates},model:{value:t.dates,callback:function(e){t.dates=e},expression:"dates"}})],1),a("div",{staticClass:"mx-3 mb-1"},[t._v(" Mẫu sẽ hiện hành từ "),a("b",[t._v(t._s(t.moment(t.dates[0]).format("DD/MM/YYYY")))]),t._v(" đến "),a("b",[t._v(t._s(t.dates.length>1?t.moment(t.dates[1]).format("DD/MM/YYYY"):t.moment(t.dates[0]).add(10,"days").format("DD/MM/YYYY")))])])]),a("div",[a("v-text-field",{staticClass:"pa-1",attrs:{label:"templateID",flat:"",outlined:"",dense:"",solo:"","hide-details":""},on:{change:t.requestTemplateID,input:t.requestTemplateID},model:{value:t.template.templateID,callback:function(e){t.$set(t.template,"templateID",e)},expression:"template.templateID"}})],1),a("div",{class:"py-2 text-caption px-3 mx-1 white--text "+t.block.background+" rounded",domProps:{textContent:t._s(""+t.block.text)}}),a("div",[a("v-toolbar",{staticClass:"text-right py-1",attrs:{tile:"",dense:""}},[a("v-btn",{staticClass:"text-subtitle-2 mr-1",attrs:{disabled:!t.btns.viewBtn.status,color:t.btns.viewBtn.color,text:""},domProps:{textContent:t._s(""+t.btns.viewBtn.text)},on:{click:t.viewBtn}}),a("v-spacer"),a("v-btn",{staticClass:"text-subtitle-2 mr-1",attrs:{disabled:!t.btns.createBtn.status,color:t.btns.createBtn.color,text:""},domProps:{textContent:t._s(""+t.btns.createBtn.text)},on:{click:t.createBtn}}),a("v-btn",{staticClass:"text-subtitle-2",attrs:{color:t.btns.backBtn.color,text:""},domProps:{textContent:t._s(""+t.btns.backBtn.text)},on:{click:t.backBtn}})],1)],1)])],1)],1)},Q=[],M=(a("c975"),a("c1df")),Y=a.n(M),P={name:"precommit",props:{nameTemplates:String},data:function(){return{dialog:!1,block:{color:"white",background:"white",text:""},btns:{viewBtn:{status:!1,color:"purple",text:"Xem"},createBtn:{status:!1,color:"success",text:"Tạo"},backBtn:{status:!0,color:"primary",text:"Trở về"}},moment:Y.a}},methods:{fixedDates:function(){return this.requestTemplateID(),this.dates.sort((function(t,e){return new Y.a(t).format("YYYYMMDD")-new Y.a(e).format("YYYYMMDD")}))},requestTemplateID:function(){var t=this;if(0==this.template.templateID.length||this.template.templateID.indexOf(" ")>=0)return this.block.background="error",this.btns.createBtn.status=!1,this.btns.viewBtn.status=!1,this.$store.commit("setButton",-1),void(this.block.text="TemplateID không hợp lệ (không được chứa khoảng trắng hoặc để trống)");this.$store.dispatch("kiemtraTemplateID").then((function(e){t.btns.createBtn.status=!0,t.btns.viewBtn.status=!1,e.data.data[0].error?(t.btns.createBtn.text="Cập nhật",t.btns.createBtn.color="warning",t.block.background="warning",t.btns.viewBtn.status=!0,t.$store.commit("setButton",!0),t.block.text=e.data.data[0].message+", cập nhật mẫu ?"):(t.btns.createBtn.text="Tạo",t.btns.createBtn.color="success",t.block.background="success",t.$store.commit("setButton",!1),t.block.text=e.data.data[0].message+", tạo mẫu mới ?")}))},backBtn:function(){this.dialog=!1},createBtn:function(){var t=this;this.$store.dispatch("createTemplate").then((function(e){t.message=e.data.data[0].message,t.btns.createBtn.status=!1,t.btns.viewBtn.status=!0,t.$store.commit("setButton",!0),t.$store.dispatch("getAllTemplates").then((function(){t.$root.$refs.navdrawer.requestTemplates()})),t.$store.state.drawer.list.selected=t.$store.state.template.templateID})).catch((function(t){console.log(t)}))},viewBtn:function(){window.open("https://qa.lhu.edu.vn/"+this.template.templateID+"/1","_blank")}},computed:{dates:{get:function(){return this.$store.state.dates},set:function(t){this.$store.commit("setDates",t)}},template:{get:function(){return this.$store.state.template},set:function(t){this.$store.commit("setTemplate",t)}}}},E=P,R=(a("f3b3"),a("2e4b")),A=a("8654"),H=Object(g["a"])(E,B,Q,!1,null,null,null),q=H.exports;v()(H,{VBtn:h["a"],VCard:b["a"],VDatePicker:R["a"],VDialog:y["a"],VIcon:k["a"],VSpacer:_["a"],VTextField:A["a"],VToolbar:j["a"]});var J=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"floatDown rounded",attrs:{horizontal:""}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.dragging,expression:"dragging"}]},t._l(t.controls,(function(e,n){return a("div",{key:n,staticClass:"d-inline px-4"},[a("span",[a("v-icon",{staticClass:"mr-1",domProps:{textContent:t._s(t.items[n].icon)}})],1)])})),0),a("draggable",t._b({directives:[{name:"show",rawName:"v-show",value:!t.dragging,expression:"!dragging"}],attrs:{sort:!1,group:{name:"items",pull:"clone",put:!1},clone:t.handleClone},on:{start:function(e){t.isDragging(!0),t.$store.state.moveControl=!0,t.dragging=!0},end:function(e){t.isDragging(!1),t.$store.state.moveControl=!1,t.dragging=!1}},model:{value:t.controls,callback:function(e){t.controls=e},expression:"controls"}},"draggable",t.dragOptions,!1),t._l(t.controls,(function(e,n){return a("div",{key:n,staticClass:"px-4 grab",class:t.dragging?"":"d-inline",on:{click:function(a){t.scroll(),t.data.Part[t.data.Part.length-1].Question.push(JSON.parse(JSON.stringify(e))),t.$store.commit("setQID")}}},[a("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,s=e.attrs;return[a("span",t._g(t._b({attrs:{rounded:""}},"span",s,!1),i),[a("span",[a("v-icon",{directives:[{name:"show",rawName:"v-show",value:!t.dragging,expression:"!dragging"}],staticClass:"mr-1",domProps:{textContent:t._s(t.items[n].icon)}})],1)])]}}],null,!0)},[a("span",{domProps:{textContent:t._s(t.items[n].name)}})])],1)})),0)],1)])},F=[],L=a("b76a"),z=a.n(L),U={name:"",props:{data:{Part:Array,dragging:!1},scroll:Function},data:function(){return{dragging:!1,show:!1,items:[{icon:"mdi-radiobox-marked",name:"Trắc nghiệm"},{icon:"mdi-checkbox-marked",name:"Hộp kiểm"},{icon:"mdi-text-short",name:"Trả lời ngắn"},{icon:"mdi-text-subject",name:"Đoạn"},{icon:"mdi-table",name:"Mẫu đánh giá"}],controls:[{QID:"",Type:"Radio",Text:"Câu hỏi",Option:[{Text:"Tuỳ chọn 1"},{Text:"Tuỳ chọn 2"}]},{GroupID:"",Type:"Checkbox",Text:"Câu hỏi",Option:[{QID:"",Text:"Tuỳ chọn 1"}]},{QID:"",Required:!1,Type:"TextBox",Text:"Câu hỏi",Holder:""},{QID:"",Type:"TextArea",Required:!1,Text:"Câu hỏi",Row:"3",Holder:""},{Type:"MarkTable",Text:"Tiêu đề MarkTable",Des:"Mô tả",ValueArray:[{Value:"1",Text:"Nội dung"},{Value:"2",Text:"Nội dung"},{Value:"3",Text:"Nội dung"},{Value:"4",Text:"Nội dung"},{Value:"5",Text:"Nội dung"}],Topic:[{GroupID:"",Name:"TIÊU ĐỀ NHÓM CÂU HỎI",Question:[{QID:"",Text:"1. Câu hỏi"}]}]}]}},methods:{isDragging:function(t){this.$emit("dragging",t)},handleClone:function(t){var e=JSON.parse(JSON.stringify(t));return this.$delete(e,"uid"),e}},components:{draggable:z.a},computed:{dragOptions:function(){return{animation:100,disabled:!1}}}},K=U,W=(a("e327"),a("3a2f")),G=Object(g["a"])(K,J,F,!1,null,null,null),X=G.exports;v()(G,{VIcon:k["a"],VTooltip:W["a"]});var Z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"containor"},[a("v-row",{staticClass:"my-1",attrs:{justify:"center","no-gutters":""}},[a("v-col",{staticStyle:{"max-width":"640px !important"},attrs:{tile:""}},[a("v-card",{staticClass:"py-2 mt-1 transparent",staticStyle:{"margin-bottom":"150px"},attrs:{elevation:"0"}},[a("div",{staticClass:"mx-0"},[a("formtitle",{attrs:{data:t.templates}}),a("draggable",t._b({attrs:{element:"span",group:{name:"part"},sort:!0,handle:".dragbar"},on:{sort:function(e){return t.$store.commit("setQID")}},model:{value:t.templates.Part,callback:function(e){t.$set(t.templates,"Part",e)},expression:"templates.Part"}},"draggable",t.dragOptions,!1),t._l(t.templates.Part,(function(e,n){return a("v-card",{key:n,staticClass:"px-3 mt-2",attrs:{flat:""}},[a("div",{on:{click:function(e){t.editing&&(t.edititem=n)}}},[a("session",{attrs:{data:e,change:t.change,index:n,editable:t.edititem==n,draggle:t.dragging},on:{remove:t.removeSession,isEditting:function(e){t.editing=e,t.edititem=-1}}})],1)])})),1)],1)]),a("div",{staticStyle:{"max-height":"1px"},attrs:{id:"endpoint"}})],1)],1)],1)},tt=[],et=(a("a434"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mt-3 pt-2 pb-2 mb-3",attrs:{id:"Session"}},[t.editable?a("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:function(){t.editable=!1,t.coverty(),t.isEditing(!1)},expression:"()=>{editable = false;coverty();isEditing(false);}"}],staticClass:"py-2",class:t.editable?"hold px-3":""},[a("v-text-field",{staticClass:"font-weight-bold",attrs:{placeholder:"Tên phần",dense:"",autofocus:""},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.isEditing(!1)}},model:{value:t.data.Name,callback:function(e){t.$set(t.data,"Name",e)},expression:"data.Name"}}),a("v-textarea",{attrs:{placeholder:"Mô tả phần","hide-details":"true",rows:"2","auto-grow":"",dense:""},model:{value:t.data.Des,callback:function(e){t.$set(t.data,"Des",e)},expression:"data.Des"}}),a("v-flex",{staticClass:"mx-3 mt-4"},[a("v-row",[a("v-col",{staticClass:"drag pa-0",staticStyle:{height:"40px"},attrs:{cols:"2"}}),a("v-spacer"),t.template.Part.length>1?a("toolbax",{attrs:{remove:t.remove,change:t.change},on:{editable:function(e){t.coverty(),t.isEditing(!1),t.editable=e}}}):t._e()],1)],1)],1):t._e(),t.editable?t._e():a("div",{staticClass:"mb-3",on:{click:function(e){t.editable=!0,t.isEditing(!0)}}},[a("div",{staticClass:"alert-primary py-2 text-center"},[a("span",[t._v(t._s(t.data.Name))])]),a("div",{domProps:{innerHTML:t._s(t.data.Des)}})]),a("draggable",t._b({staticClass:"list-group",attrs:{element:"span","ghost-class":t.$store.state.moveControl?"ghost":"",sort:t.isDragging,"scroll-sensitivity":250,handle:t.isDragging?".pointer":"ss",group:{name:"items"}},on:{start:function(e){t.dragging=!0},end:function(e){t.dragging=!1},sort:function(e){return t.$store.commit("setQID")}},model:{value:t.data.Question,callback:function(e){t.$set(t.data,"Question",e)},expression:"data.Question"}},"draggable",t.dragOptions,!1),[a("transition-group",{attrs:{type:"transition",tag:"div"}},t._l(t.data.Question,(function(e,n){return a("div",{key:n},[a("v-card",{staticClass:"my-2",class:(t.outlined,""),attrs:{ripple:!1,flat:""},on:{mouseover:function(e){t.outlined=n},mouseleave:function(e){t.outlined=-1}}},[a("div",t._g(t._b({attrs:{rounded:""},on:{click:function(e){t.editable=!1,t.editing&&(t.edititem=n)}}},"div",t.attrs,!1),t.on),[a(e.Type,{key:n,tag:"component",class:t.editing?"":"pointer",style:t.edititem!=n&&t.editing?"opacity: 1;":"",attrs:{data:e,change:t.change,index:n,dragging:t.isDragging},on:{isEditting:function(e){t.editing=e,t.edititem=-1},remove:t.removeComponent}})],1)])],1)})),0)],1),a("div",{class:t.draggle||0==t.data.Question.length?"":"susgest"})],1)}),at=[],nt=(a("a9e3"),a("ac1f"),a("5319"),a("5526")),it=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"checkbox"}},[a("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:function(){t.editable=!1,t.editing(!1)},expression:"()=>{editable = false;editing(false)}"}],class:(t.editable?"hold":"")+" "+(0==t.dragging?"py-2":"py-0")},[t.editable?a("div",{staticClass:"px-3"},[a("v-text-field",{staticClass:"font-weight-bold mb-4",attrs:{placeholder:"Câu hỏi","hide-details":""},on:{focus:t.focusable},model:{value:t.data.Text,callback:function(e){t.$set(t.data,"Text",e)},expression:"data.Text"}}),a("draggable",t._b({attrs:{element:"span",group:{name:"checkbox-question"},handle:".checkbox","ghost-class":t.ee},on:{sort:function(e){return t.$store.commit("setQID")}},model:{value:t.data.Option,callback:function(e){t.$set(t.data,"Option",e)},expression:"data.Option"}},"draggable",t.dragOptions,!1),[a("transition-group",{staticClass:"py-0",attrs:{type:"transition",group:"",tag:"div"}},t._l(t.data.Option,(function(e,n){return a("div",{key:n,staticClass:"white rounded",on:{mouseover:function(e){t.hoverItem=n}}},[a("v-text-field",{class:"py-0 my-0 text-body-1 "+(t.curentItem==n?"":"custom")+" "+(void 0==e.Question?"":"grey lighten-3"),attrs:{placeholder:"Tuỳ chọn "+(n+1),rules:[t.$store.state.required],"hide-details":"",autofocus:n==t.focusItem},on:{click:function(e){t.curentItem=n,t.focusItem=n},focus:t.focusable,change:function(e){t.removeEmptyOption(),t.removeChild()}},scopedSlots:t._u([{key:"prepend",fn:function(){return[a("v-icon",{staticClass:"checkbox"},[t._v("mdi-drag-vertical")]),a("v-icon",[t._v("mdi-checkbox-blank-outline")])]},proxy:!0},{key:"append-outer",fn:function(){return[a("v-btn",{directives:[{name:"show",rawName:"v-show",value:(n==t.curentItem||n==t.hoverItem)&&void 0==e.Question,expression:"(i==curentItem||i==hoverItem)&&item.Question == undefined"}],key:n,attrs:{small:"",color:"grey darken-2",icon:""},on:{click:function(e){t.addChild(n),t.$store.commit("setQID"),t.added=!t.added,t.toggle=n}}},[a("v-icon",[t._v("mdi-plus")])],1),a("v-btn-toggle",{attrs:{tile:"",borderless:"","background-color":"transparent"},model:{value:t.toggle,callback:function(e){t.toggle=e},expression:"toggle"}},[a("v-btn",{directives:[{name:"show",rawName:"v-show",value:void 0!=e.Question,expression:"(item.Question != undefined)"}],key:n,attrs:{ripple:!1,rounded:"",small:"","active-class":"rad",value:n,icon:""}},[a("v-icon",[t._v("mdi-chevron-"+t._s(t.toggle==n?"up":"down"))])],1)],1),t.data.Option.length>2?a("v-btn",{attrs:{small:"",color:"grey darken-2",icon:""},on:{click:function(e){t.change(),t.data.Option.splice(n,1),t.curentItem=-1,t.focusItem=-1}}},[a("v-icon",[t._v("mdi-close")])],1):t._e()]},proxy:!0}],null,!0),model:{value:t.data.Option[n].Text,callback:function(e){t.$set(t.data.Option[n],"Text",e)},expression:"data.Option[i].Text"}}),a("child-control",{directives:[{name:"show",rawName:"v-show",value:t.toggle==n,expression:"toggle == i"}],attrs:{index:n,data:e,change:t.change}})],1)})),0)],1),a("div",[a("v-text-field",{staticClass:"text-body-1 custom my-1 ml-6",staticStyle:{width:"150px"},attrs:{color:"grey lighten-4 my-2","prepend-icon":"mdi-checkbox-blank-outline",dense:"","hide-details":"",placeholder:"Thêm tuỳ chọn"},on:{click:function(e){e.stopPropagation(),t.data.Option.push({Text:"Tùy chọn "+(t.data.Option.length+1)}),t.focusItem=t.data.Option.length-1,t.curentItem=t.data.Option.length-1}}})],1),a("v-divider",{staticClass:"my-4"}),a("v-flex",{staticClass:"mx-3 mt-4"},[a("v-row",[a("v-col",{staticClass:"drag pa-0",staticStyle:{height:"40px"},attrs:{cols:"2"}}),a("v-spacer"),a("toolbax",{attrs:{remove:t.remove,change:t.change},on:{editable:function(e){t.editing(!1),t.editable=e,t.outside()}}})],1)],1)],1):t._e(),t.editable?t._e():a("div",{on:{click:function(e){t.editable=!0,t.editing(!0)}}},[0==t.dragging?a("div",[a("div",{staticClass:"text-start mb-1 font-weight-bold"},[t._v(t._s(t.data.Text))]),t._l(t.data.Option,(function(e,n){return a("div",{key:n},[a("div",{staticClass:"mb-1"},[a("v-icon",[t._v("mdi-checkbox-blank-outline")]),a("span",{staticClass:"ml-2",domProps:{textContent:t._s(e.Text)}})],1)])})),a("draggable",t._b({attrs:{element:"span",group:{name:"question"},sort:!1,handle:".handle"},on:{sort:function(e){return t.$store.commit("setQID")}},model:{value:t.data.Option,callback:function(e){t.$set(t.data,"Option",e)},expression:"data.Option"}},"draggable",t.dragOptions,!1))],2):t._e(),t.dragging?a("div",{attrs:{align:"left"}},[a("v-flex",{staticClass:"grey lighten-3 rounded pa-2"},[a("span",{staticClass:"mr-2"},[a("v-icon",[t._v("mdi-checkbox-marked")])],1),a("span",{staticClass:"text-subtitle-2 mb-2",domProps:{textContent:t._s(t.data.Text)}})])],1):t._e()])])])},st=[],ot=(a("d81d"),a("498a"),a("95e3")),rt=a("bb1c"),lt={name:"CheckBox",props:{change:Function,data:{GroupID:String,Text:String,Option:Array},index:Number,dragging:{type:Boolean,default:!1}},data:function(){return{added:!1,curentItem:-1,focusItem:-1,hoverItem:-1,editable:!1,toggle:-1}},methods:{outside:function(){this.hoverItem=-1,this.curentItem=-1,this.focusItem=-1},removeEmptyOption:function(){var t=this;this.data.Option.length<=2?this.data.Option.map((function(e,a){0==e.Text.trim().length&&(t.data.Option[a]=Object(o["a"])(Object(o["a"])({},t.data.Option[a]),{},{Text:"Tuỳ chọn "+(a+1)}))})):this.data.Option.map((function(e,a){if(0==e.Text.trim().length)return t.toggle=-1,void t.data.Option.splice(a,1)}))},editing:function(t){this.removeChild(),this.removeEmptyOption(),this.$store.commit("setChinhSua",t)},remove:function(){this.$emit("remove",this.index)},focusable:function(t){t.target.select()},addChild:function(t){this.data.Option=this.data.Option.map((function(e,a){return t===a?Object(o["a"])(Object(o["a"])({},e),{},{Des:"",Question:[{QID:"",Required:!1,Type:"TextBox",Text:"Câu hỏi",Holder:""}]}):e})),this.$store.commit("setQID")},removeChild:function(){var t=this;this.data.Option.map((function(e){void 0!=e.Question&&0==e.Question.length&&(t.$delete(e,"Question"),t.$delete(e,"Des"))}))}},components:{ChildControl:rt["a"],draggable:z.a,toolbax:ot["a"]},computed:{dragOptions:function(){return{animation:200,disabled:!1,ghostClass:"ghost"}}}},ct=lt,dt=a("a609"),ut=a("62ad"),mt=a("ce7e"),pt=a("0e8f"),gt=a("0fd9"),ft=Object(g["a"])(ct,it,st,!1,null,null,null),vt=ft.exports;v()(ft,{VBtn:h["a"],VBtnToggle:dt["a"],VCol:ut["a"],VDivider:mt["a"],VFlex:pt["a"],VIcon:k["a"],VRow:gt["a"],VSpacer:_["a"],VTextField:A["a"]}),V()(ft,{ClickOutside:$["a"]});var ht=a("cef7"),bt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"textarea"}},[a("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:function(){t.editable=!1,t.editing(!1)},expression:"()=>{editable = false;editing(false)}"}],class:(t.editable?"hold":"")+" "+(0==t.dragging?"py-2":"py-0")},[t.editable?a("div",{staticClass:"px-3"},[a("v-text-field",{staticClass:"my-5 font-weight-bold",attrs:{placeholder:"Câu hỏi",dense:"","hide-details":"",autofocus:""},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.editing(!1)}},model:{value:t.data.Text,callback:function(e){t.$set(t.data,"Text",e)},expression:"data.Text"}}),a("v-text-field",{staticClass:"my-2",attrs:{placeholder:"Gợi ý nhập",dense:""},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.editing(!1)}},model:{value:t.data.Holder,callback:function(e){t.$set(t.data,"Holder",e)},expression:"data.Holder"}}),a("v-divider",{staticClass:"my-4"}),a("v-flex",{staticClass:"mx-3 mt-4"},[a("v-row",[a("v-col",{staticClass:"drag",staticStyle:{height:"40px"}},[a("v-switch",{staticClass:"my-0 py-0",attrs:{color:"error",dense:"",inset:"",label:"Bắt buộc"},model:{value:t.data.Required,callback:function(e){t.$set(t.data,"Required",e)},expression:"data.Required"}})],1),a("v-spacer"),a("toolbax",{attrs:{change:t.change,remove:t.remove},on:{editable:function(e){t.editing(!1),t.editable=e}}})],1)],1)],1):t._e(),t.editable?t._e():a("div",{on:{click:function(e){t.editable=!0,t.editing(!0)}}},[0==t.dragging?a("div",[a("div",{staticClass:"text-start mb-3 font-weight-bold",domProps:{textContent:t._s(t.data.Text)}}),a("v-textarea",{attrs:{"hide-details":"",dense:"",rows:"2",disabled:"",placeholder:t.data.Holder,outlined:""}})],1):t._e(),t.dragging?a("div",{attrs:{align:"left"}},[a("v-flex",{staticClass:"grey lighten-3 rounded pa-2"},[a("span",{staticClass:"mr-2"},[a("v-icon",[t._v("mdi-text-subject")])],1),a("span",{staticClass:"text-subtitle-2 mb-2",domProps:{textContent:t._s(t.data.Text)}})])],1):t._e()])])])},xt=[],yt={name:"TextArea",props:{data:{QID:String,Text:String,Required:Boolean,Holder:String},change:Function,index:Number,dragging:{type:Boolean,default:!1}},data:function(){return{editable:!1}},methods:{editing:function(t){this.$store.commit("setChinhSua",t)},remove:function(){this.$emit("remove",this.index)}},components:{toolbax:ot["a"]}},kt=yt,_t=a("b73d"),Ct=a("a844"),Tt=Object(g["a"])(kt,bt,xt,!1,null,null,null),wt=Tt.exports;v()(Tt,{VCol:ut["a"],VDivider:mt["a"],VFlex:pt["a"],VIcon:k["a"],VRow:gt["a"],VSpacer:_["a"],VSwitch:_t["a"],VTextField:A["a"],VTextarea:Ct["a"]}),V()(Tt,{ClickOutside:$["a"]});var Dt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"marktable"}},[a("div",{class:0==t.dragging?"mt-5":"mt-0"},[t.editable?a("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:function(){t.editable=!1,t.mergeDes(),t.editing(!1)},expression:"()=>{editable = false;mergeDes();editing(false)}"}],staticClass:"px-3 my-3 rounded",class:(t.editable?"hold":"")+" "+(0==t.dragging?"py-2":"py-0")},[a("v-text-field",{staticClass:"my-2 font-weight-bold",attrs:{dense:""},on:{focus:t.focusable},model:{value:t.data.Text,callback:function(e){t.$set(t.data,"Text",e)},expression:"data.Text"}}),a("v-textarea",{staticClass:"my-2",attrs:{rows:"2","auto-grow":"",label:"Chỉnh sửa mô tả",dense:""},on:{change:t.coverty},model:{value:t.data.Des,callback:function(e){t.$set(t.data,"Des",e)},expression:"data.Des"}}),a("div",{staticClass:"mb-2 caption font-weight-medium primary--text"},[t._v(" Chỉnh sửa nội dung mức điểm ")]),a("div",[a("v-btn-toggle",{staticClass:"mb-2",attrs:{tile:"",mandatory:""},on:{change:t.handleScoreColumn},model:{value:t.scoreVal,callback:function(e){t.scoreVal=e},expression:"scoreVal"}},t._l([2,3,4,5,6],(function(e){return a("v-btn",{key:e,staticClass:"text-subtitle-2",attrs:{ripple:!1,"active-class":"aa",value:e},domProps:{textContent:t._s(e)}})})),1)],1),a("v-row",{attrs:{"no-gutters":""}},t._l(t.data.ValueArray,(function(e,n){return a("v-col",{key:n},[a("div",{staticClass:"py-1 text-center primary white--text text-subtitle-2",attrs:{outlined:""}},[t._v(" "+t._s(e.Value)+" ")]),a("div",{staticClass:"px-2 grey lighten-3"},[a("v-textarea",{staticClass:"mt-0",attrs:{rows:"2","auto-grow":"",rules:[t.$store.state.required],required:""},on:{focus:t.focusable},model:{value:e.Text,callback:function(a){t.$set(e,"Text",a)},expression:"item.Text"}})],1)])})),1),a("v-divider",{staticClass:"my-4"}),a("v-flex",{staticClass:"mx-3 mt-2"},[a("v-row",[a("v-col",{staticClass:"drag",attrs:{cols:"2"}}),a("v-spacer"),a("toolbax",{attrs:{remove:t.remove,change:t.change},on:{editable:function(e){t.editing(!1),t.coverty(),t.editable=e}}})],1)],1)],1):t._e(),t.dragging?a("div",{attrs:{align:"left"},on:{click:function(e){t.editable=!0,t.editing(!0)}}},[a("v-flex",{staticClass:"grey lighten-3 rounded pa-2"},[a("span",{staticClass:"mr-2"},[a("v-icon",[t._v("mdi-table")])],1),a("span",{staticClass:"text-subtitle-2 mb-2",domProps:{textContent:t._s(t.data.Des.replaceAll("<br/>","  "))}})])],1):t._e(),t.editable||0!=t.dragging?t._e():a("div",{on:{click:function(e){t.editable=!0,t.editing(!0)}}},[a("div",{staticClass:"text-start mt-2 font-weight-bold",domProps:{textContent:t._s(t.data.Text)}}),a("div",{staticClass:"text-start my-3",domProps:{innerHTML:t._s(t.data.Des)}})]),0==t.dragging?a("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:function(){return t.edititem={}},expression:"()=>edititem = {}"}]},t._l(t.data.Topic,(function(e,n){return a("div",{key:n},[a("v-card",{staticClass:"mb-0 pb-3",attrs:{flat:"",align:"left"}},[a("div",[t.edititem==e?a("div",{staticClass:"px-3 pt-2 pb-1",class:t.edititem==e?"hold":""},[a("v-text-field",{staticClass:"mb-2 font-weight-bold",attrs:{autofocus:""},on:{focus:t.focusable},model:{value:e.Name,callback:function(a){t.$set(e,"Name",a)},expression:"item.Name"}}),t._l(e.Question,(function(n,i){return a("div",{key:i},[a("v-text-field",{staticClass:"mb-2",attrs:{"hide-details":"true",dense:""},model:{value:n.Text,callback:function(e){t.$set(n,"Text",e)},expression:"ques.Text"}},[a("template",{slot:"append-outer"},[a("v-icon",{on:{click:function(a){t.change(),e.Question.splice(i,1),t.$store.commit("setQID")}}},[t._v("mdi-close")])],1)],2)],1)})),a("div",[a("v-text-field",{staticClass:"text-body-1 custom my-2",staticStyle:{width:"150px"},attrs:{color:"grey lighten-4",dense:"","hide-details":"",placeholder:"Thêm câu hỏi"},on:{click:function(a){e.Question.push({QID:"",Text:e.Question.length+1+". "}),t.$store.commit("setQID")}}})],1),a("v-divider",{staticClass:"my-4"}),a("v-flex",{staticClass:"mx-3 mt-4"},[a("v-row",[a("v-col",{staticClass:"drag pa-0",staticStyle:{height:"40px"},attrs:{cols:"2"}}),a("v-spacer"),a("div",{staticClass:"pb-2"},[a("v-col",{staticClass:"d-inline drag mr-0 pr-0"},[a("v-btn",{staticClass:"ma-0",attrs:{elevation:"0",color:"grey",large:"",icon:""},on:{click:function(e){return t.removeTopic(n)}}},[a("v-icon",[t._v("mdi-trash-can-outline")])],1)],1)],1)],1)],1)],2):t._e(),t.edititem!=e?a("div",{on:{click:function(a){t.edititem=e,t.editing(!0)}}},[a("div",{staticClass:"font-weight-bold green--text"},[t._v(" "+t._s(e.Name)+" ")]),t._l(e.Question,(function(e,n){return a("div",{key:n,staticClass:"handle"},[a("div",[t._v(t._s(e.Text))]),t.viewMode?a("point",{staticClass:"mb-4",attrs:{data:t.data.ValueArray}}):t._e()],1)}))],2):t._e()])])],1)})),0):t._e(),0==t.dragging?a("v-btn",{attrs:{small:"",color:"blue",outlined:""},on:{click:function(e){t.data.Topic.push({GroupID:"",Name:"TIÊU ĐỀ NHÓM CÂU HỎI",Question:[{QID:"",Text:"1. Câu hỏi"}]}),t.$store.commit("setQID")}}},[a("v-icon",{attrs:{small:""}},[t._v("mdi-plus")]),t._v(" Thêm nhóm câu hỏi")],1):t._e()],1)])},jt=[],Ot=(a("99af"),a("a15b"),a("fb6a"),a("1276"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"points"}},[a("v-flex",{staticClass:"pa-0 mt-2",attrs:{dense:"",elevation:"0"}},[a("div",{staticClass:"c-btn-group"},t._l(t.data,(function(e,n){return a("a",{key:n,staticClass:"c-btn",style:"background-color: "+(t.selected==n?"#007bff; color: white;":"transparent"),on:{click:function(e){t.selected=n}}},[t._v(t._s(e.Value))])})),0)])],1)}),It=[],Vt={props:{data:Object},data:function(){return{selected:-1}}},$t=Vt,St=(a("f923"),Object(g["a"])($t,Ot,It,!1,null,null,null)),Nt=St.exports;v()(St,{VFlex:pt["a"]});var Bt={name:"marktable",props:{change:Function,data:{Text:String,Des:String,ValueArray:Array,Topic:Array},index:Number,dragging:{type:Boolean,default:!1}},data:function(){return{des:"",scoreVal:5,editable:!1,edititem:{},markbar:!1}},methods:{isNumeric:function(t){return/^-?\d+$/.test(t)},mergeDes:function(){var t=this,e=this.data.Des.split("<br/>").map((function(e){return t.isNumeric(e.trim()[0])?"":"".concat(0==e.trim().length?"":e.trim()+"<br/>")})).join(""),a=this.data.ValueArray;this.data.Des="".concat(e," ").concat(a.map((function(t){return"<br/>".concat(t.Value,". ").concat(t.Text)})).join().replaceAll(",",""))},removeTopic:function(t){this.change(),this.data.Topic.splice(t,1),this.editing(!1),this.$store.commit("setQID")},editing:function(t){this.$store.commit("setChinhSua",t)},remove:function(){this.$emit("remove",this.index)},handleScoreColumn:function(){var t=this.data.ValueArray.length,e=this.scoreVal;if(t>=e)this.data.ValueArray.splice(e,t-e);else while(t<e)this.data.ValueArray.push({Value:this.data.ValueArray.length+1,Text:"Nội dung"}),t=this.data.ValueArray.length},coverty:function(){var t=this.data.Des.slice();this.data.Des=t.replace(/[\n\r]/g,"<br/>")},focusable:function(t){t.target.select()}},components:{toolbax:ot["a"],point:Nt},computed:{updateRate:function(){return""},dragOptions:function(){return{animation:200,disabled:!1,ghostClass:"ghost"}},viewMode:{get:function(){return this.$store.state.viewMode}}}},Qt=Bt,Mt=(a("92ad"),Object(g["a"])(Qt,Dt,jt,!1,null,"102dabda",null)),Yt=Mt.exports;v()(Mt,{VBtn:h["a"],VBtnToggle:dt["a"],VCard:b["a"],VCol:ut["a"],VDivider:mt["a"],VFlex:pt["a"],VIcon:k["a"],VRow:gt["a"],VSpacer:_["a"],VTextField:A["a"],VTextarea:Ct["a"]}),V()(Mt,{ClickOutside:$["a"]});var Pt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"fileinput"}},[t.editable?a("div",[a("v-text-field",{staticClass:"my-2",attrs:{dense:"",autofocus:""},on:{keyup:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.editable=!t.editable}},model:{value:t.data.Text,callback:function(e){t.$set(t.data,"Text",e)},expression:"data.Text"}}),a("v-btn",{staticClass:"mb-3",attrs:{color:"primary",block:""},on:{click:function(e){t.editable=!t.editable}}},[a("v-icon",[t._v("mdi-check")])],1)],1):t._e(),t.editable?t._e():a("div",{on:{click:function(e){t.editable=!t.editable}}},[a("div",{staticClass:"mb-2 font-weight-bold",domProps:{textContent:t._s(t.data.Text)}}),[a("v-file-input",{attrs:{"show-size":"",multiple:"",label:"Nhập file"}})]],2)])},Et=[],Rt={name:"TextArea",props:{data:{QID:String,Text:String}},data:function(){return{editable:!1}}},At=Rt,Ht=a("23a7"),qt=Object(g["a"])(At,Pt,Et,!1,null,null,null),Jt=qt.exports;v()(qt,{VBtn:h["a"],VFileInput:Ht["a"],VIcon:k["a"],VTextField:A["a"]});var Ft={name:"Session",props:{change:Function,data:{QID:String,Name:String,Des:String,Question:Array},index:Number,draggle:Boolean},data:function(){return{items:{Radio:"Trắc nghiệm",Checkbox:"Hộp kiểm",TextBox:"Trả lời ngắn",TextArea:"Đoạn",MarkTable:"Mẫu đánh giá"},editable:!1,dragging:!1,editing:!1,edititem:-1,outlined:!1}},methods:{isEditing:function(t){this.edititem=-1,this.$emit("isEditting",t)},coverty:function(){var t=this.data.Des;this.data.Des=t.replace(/[\n\r]/g,"<br/>")},remove:function(){this.$emit("remove",this.index)},removeComponent:function(t){this.data.Question.splice(t,1)}},computed:{dragOptions:function(){return{animation:300,disabled:!1}},template:{get:function(){return this.$store.state.template},set:function(t){return this.$store.commit("setTemplate",t)}},isDragging:{get:function(){return this.$store.state.dragging},set:function(t){return this.$store.commit("setDragging",t)}}},components:{draggable:z.a,Checkbox:vt,TextBox:ht["default"],Radio:nt["default"],FileInput:Jt,MarkTable:Yt,TextArea:wt,toolbax:ot["a"]}},Lt=Ft,zt=(a("34a1"),Object(g["a"])(Lt,et,at,!1,null,"326c0137",null)),Ut=zt.exports;v()(zt,{VCard:b["a"],VCol:ut["a"],VFlex:pt["a"],VRow:gt["a"],VSpacer:_["a"],VTextField:A["a"],VTextarea:Ct["a"]}),V()(zt,{ClickOutside:$["a"]});var Kt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"formtitle"}},[a("v-card",{staticClass:"px-3",attrs:{flat:""}},[t.editable?a("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:function(){t.editable=!1},expression:"()=>{editable = false}"}],staticClass:"my-2 py-2 px-3",class:t.editable?"hold":""},[a("v-img",{attrs:{src:t.data.logo_org,height:"92",contain:""}}),a("v-textarea",{staticClass:"mt-5",attrs:{label:"Link Logo","auto-grow":"",rows:"1",dense:""},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.switchVal(e)}},model:{value:t.data.logo_org,callback:function(e){t.$set(t.data,"logo_org",e)},expression:"data.logo_org"}}),a("v-text-field",{attrs:{label:"url_login",dense:""},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.switchVal(e)}},model:{value:t.data.url_login,callback:function(e){t.$set(t.data,"url_login",e)},expression:"data.url_login"}}),a("v-text-field",{attrs:{label:"url_template",dense:""},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.switchVal(e)}},model:{value:t.data.url_template,callback:function(e){t.$set(t.data,"url_template",e)},expression:"data.url_template"}}),a("v-text-field",{attrs:{label:"url_finishRedirect",dense:""},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.switchVal(e)}},model:{value:t.data.url_finishRedirect,callback:function(e){t.$set(t.data,"url_finishRedirect",e)},expression:"data.url_finishRedirect"}}),a("v-text-field",{attrs:{label:"name_org",dense:""},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.switchVal(e)}},model:{value:t.data.name_org,callback:function(e){t.$set(t.data,"name_org",e)},expression:"data.name_org"}}),a("v-text-field",{attrs:{label:"Title",dense:""},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.switchVal(e)}},model:{value:t.data.Title,callback:function(e){t.$set(t.data,"Title",e)},expression:"data.Title"}}),a("v-textarea",{attrs:{label:"Mô tả","auto-grow":"",rows:"1"},model:{value:t.data.Des,callback:function(e){t.$set(t.data,"Des",e)},expression:"data.Des"}})],1):t._e(),t.editable?t._e():a("div",{on:{click:function(e){return t.switchVal()}}},[a("v-img",{attrs:{src:t.data.logo_org,height:"92",contain:""}}),a("div",{staticClass:"header-title",attrs:{align:"center"}},[t._v(" "+t._s(t.data.name_org)+" ")]),a("div",{staticClass:"text-uppercase mb-2 mt-1 pb-3 font-weight-bold",staticStyle:{color:"#17a2b8 !important","font-size":"24px !important"},attrs:{align:"center"},domProps:{textContent:t._s(t.data.Title)}}),a("div",{staticClass:"pb-0 py-0",domProps:{innerHTML:t._s(t.data.Des)}})],1)])],1)},Wt=[],Gt={name:"formtitle",props:{data:{name_org:String,templateID:String,Title:String,Des:String},editable:{type:Boolean,default:!1}},data:function(){return{isCorrectTemplateID:!1}},methods:{coverty:function(){var t=this.data.Des;this.data.Des=t.replace(/[\n\r]/g,"<br/>")},switchVal:function(){this.editable=!this.editable}}},Xt=Gt,Zt=(a("4eb3"),a("adda")),te=Object(g["a"])(Xt,Kt,Wt,!1,null,null,null),ee=te.exports;v()(te,{VCard:b["a"],VImg:Zt["a"],VTextField:A["a"],VTextarea:Ct["a"]}),V()(te,{ClickOutside:$["a"]});var ae={name:"main",props:{templates:Object,change:Function,dragging:Boolean},data:function(){return{editing:!1,edititem:-1}},methods:{removeSession:function(t){console.log(t),this.change(),this.templates.Part.splice(t,1)}},components:{draggable:z.a,session:Ut,formtitle:ee},computed:{dragOptions:function(){return{animation:100,disabled:!1,ghostClass:"ghost"}},listString:function(){return JSON.stringify(this.templates,null,2)}}},ne=ae,ie=Object(g["a"])(ne,Z,tt,!1,null,null,null),se=ie.exports;v()(ie,{VCard:b["a"],VCol:ut["a"],VRow:gt["a"]});var oe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-toolbar",{staticClass:"primary",staticStyle:{position:"fixed",width:"100%"},attrs:{align:"right",height:"50",dense:"",absolute:"",fixed:"",flat:"",dark:""}},[t._v(" Danh sách mẫu "),a("v-spacer"),a("v-btn",{staticClass:"mr-0",class:t.loading?"":"white",attrs:{loading:t.loading,"x-small":"",fab:"",icon:""},on:{click:function(e){return e.stopPropagation(),t.requestTemplates()}}},[a("v-icon",{attrs:{color:"primary"}},[t._v("mdi-reload")])],1)],1),t.loading?a("div",{staticClass:"text-center text-subtitle-2",staticStyle:{"padding-top":"300px"},attrs:{color:"grey"},domProps:{textContent:t._s(t.message)}}):t._e(),!t.loading&&t.error?a("div",{staticClass:"px-5 text-center text-subtitle-2 error--text",staticStyle:{"padding-top":"300px"},domProps:{textContent:t._s(t.message)}}):t._e(),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.loading,expression:"!loading"}],staticStyle:{"padding-top":"45px"}},[a("v-list",{attrs:{subheader:"","two-line":""}},[t._l(t.sortedArray,(function(e){return[a("div",{key:e.TemplateID},[a("v-list-item",{class:t.selected==e.TemplateID?"orange lighten-4":""},[a("v-list-item-content",{staticClass:"pointer"},[a("v-list-item-title",{staticClass:"text-subtitle-2",on:{click:function(a){return a.stopPropagation(),t.viewForm(e.TemplateID)}}},[t._v(t._s(e.TemplateID))]),a("v-list-item-subtitle",{staticClass:"text-decoration-underline text-caption mt-1 pa-0 px-0",attrs:{link:"",text:""},domProps:{textContent:t._s(""+[e.NgayBatDau,e.NgayKetThuc].map((function(e){return t.moment(e.split("T")[0]).format("DD/MM/YYYY")})).join(" đến "))},on:{click:function(a){return t.setDatesReady(e.TemplateID,[e.NgayBatDau,e.NgayKetThuc])}}}),a("v-list-item-subtitle",{staticClass:"text-caption mt-1",domProps:{textContent:t._s("minhphongvn")}})],1),a("v-list-item-action",{directives:[{name:"show",rawName:"v-show",value:e.DuocSuaJsondata,expression:"template.DuocSuaJsondata"}],staticClass:"mx-0"},[a("v-btn",{attrs:{icon:""},on:{click:function(a){return a.stopPropagation(),t.editTemplate(e)}}},[a("v-icon",{attrs:{color:"orange"}},[t._v("mdi-pencil")])],1)],1),a("v-list-item-action",{staticClass:"mx-0"},[a("v-btn",{attrs:{color:"red lighten-2",dark:"",icon:""},on:{click:function(a){a.stopPropagation(),t.dialog=!0,t.templateDelete=e.TemplateID}}},[a("v-icon",{attrs:{color:"error"}},[t._v("mdi-delete")])],1)],1)],1),a("v-divider")],1)]}))],2)],1),a("v-dialog",{attrs:{"max-width":"290"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline error--text"},[t._v(" Cảnh báo ")]),a("v-card-text",[t._v(" Mẫu sẽ bị xóa vĩnh viễn. Không thể phục hồi. Khuyến khích download mẫu dưới dạng JSON để có thể tái sử dụng. "),a("v-btn",{staticClass:"success",attrs:{link:"","x-small":"",text:""},on:{click:function(e){return t.downloadJSON(t.templateDelete)}}},[t._v("Download")])],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){t.dialog=!1}}},[t._v(" Trở về ")]),a("v-btn",{attrs:{color:"error",text:""},on:{click:function(e){return t.delTemplate(t.templateDelete)}}},[t._v(" Xóa ")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"400"},model:{value:t.dialogDates,callback:function(e){t.dialogDates=e},expression:"dialogDates"}},[a("v-card",[a("v-card-title",{staticClass:"text-subtitle-1 px-5 py-2"},[t._v(" Cập nhật thời gian khảo sát (tháng-ngày-năm) ")]),a("v-divider"),a("v-form",{staticClass:"px-5 mt-4"},[a("v-row",{staticClass:"mb-1",attrs:{"no-gutters":""}},[a("v-col",[a("span",{staticClass:"text-subtitle-2"},[t._v("TemplateID:")]),a("span",{staticClass:"ml-2 text-subtitle-2 success--text"},[t._v(t._s(t.dates.templateID))])])],1),a("v-row",{staticClass:"mt-1",attrs:{dense:"","no-gutters":""}},[a("v-col",{attrs:{cols:"10",md:"5"}},[a("div",{staticClass:"text-subtitle-2"},[t._v("Từ ngày:")])]),a("v-spacer"),a("v-col",{attrs:{cols:"10",md:"5"}},[a("div",{staticClass:"text-subtitle-2"},[t._v("Đến ngày:")])])],1),a("v-row",{staticClass:"mt-1",attrs:{dense:"","no-gutters":""}},[a("v-col",{attrs:{cols:"10",md:"5"}},[a("v-text-field",{attrs:{solo:"",outlined:"",dense:"",flat:"","hide-details":"",tile:"",placeholder:"MM-dd-yyyy"},model:{value:t.dates.dates[0],callback:function(e){t.$set(t.dates.dates,0,e)},expression:"dates.dates[0]"}})],1),a("v-spacer"),a("v-col",{attrs:{cols:"10",md:"5","align-self":"right"}},[a("v-text-field",{attrs:{solo:"",outlined:"",dense:"",flat:"","hide-details":"",placeholder:"MM-dd-yyyy"},model:{value:t.dates.dates[1],callback:function(e){t.$set(t.dates.dates,1,e)},expression:"dates.dates[1]"}})],1)],1)],1),""!=t.dates.message?a("pre",{class:"py-2 text-caption px-3 mx-2 "+(t.dates.error?"error--text":"success--text"),domProps:{textContent:t._s(t.dates.message)}}):t._e(),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"warning",loading:t.dates.loading,text:""},on:{click:function(e){return t.setDates()}}},[t._v(" Cập nhật ")]),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){t.dialogDates=!1}}},[t._v(" Trở về ")])],1)],1)],1)],1)},re=[],le=a("2909"),ce=(a("96cf"),a("1da1")),de={name:"drawer",props:{draw:Boolean},data:function(){return{loading:!1,error:!1,message:"Đang tải...",dialog:!1,dialogDates:!1,templateDelete:"",dates:{message:"",error:!1,loading:!1,templateID:"",dates:[]},moment:Y.a}},methods:{setDatesReady:function(t,e){this.dates.message="",this.dates.error=!1,this.dates.templateID=t,this.dates.dates=e.map((function(t){return Y()(t.split("T")[0]).format("MM-DD-YYYY")})),this.dialogDates=!0},setDates:function(){var t=this;this.fixedDates(),this.dates.loading=!0,this.dates.message="",this.$store.dispatch("updateThoiGianKhaoSat",{templateID:this.dates.templateID,dates:this.dates.dates}).then((function(e){t.dates.error=!1,t.dates.loading=!1,t.dates.message=e.data.data[0].message+".Khảo sát hiện hành từ ".concat(Y()(t.dates.dates[0]).format("DD/MM/YYYY")," đến ").concat(Y()(t.dates.dates[1]).format("DD/MM/YYYY")),t.requestTemplates()})).catch((function(e){setTimeout((function(){t.dates.error=!0,t.dates.loading=!1,t.dates.message="Đã xảy ra lỗi !\nVui lòng kiểm tra lại định dạng ngày (yêu cầu: MM-dd-yyyy).\n".concat(e)}),500)}))},fixedDates:function(){return this.dates.dates.sort((function(t,e){return new Y.a(t).format("YYYYMMDD")-new Y.a(e).format("YYYYMMDD")}))},viewForm:function(t){window.open("https://qa.lhu.edu.vn/"+t+"/1","_blank")},requestTemplates:function(){var t=this;this.loading=!0,this.message="Đang tải...",this.$store.dispatch("getAllTemplates").then((function(){t.loading=!1,t.error=!1})).catch((function(e){setTimeout((function(){t.error=!0,t.loading=!1,t.message="Đã xảy ra lỗi. "+e}),1e3)}))},editTemplate:function(t){this.selected=t.TemplateID,this.$emit("pubTemplate",t.TemplateID),this.$store.commit("setDates",[t.NgayBatDau,t.NgayKetThuc].map((function(t){return t.split("T")[0]})))},delTemplate:function(t){var e=this;return Object(ce["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=e.$store.dispatch("deleteTemplate",t),a.next=3,n.then((function(){e.$store.dispatch("getAllTemplates")}));case 3:return a.next=5,n.then((function(){t==e.$store.state.template.templateID&&e.$store.commit("setButton",!1)}));case 5:e.dialog=!1;case 6:case"end":return a.stop()}}),a)})))()},downloadJSON:function(t){var e=this;return Object(ce["a"])(regeneratorRuntime.mark((function a(){var n,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n={},a.next=3,e.$store.dispatch("getJsonDataByID",t).then((function(t){n=JSON.parse(t.data.data[0].JdataTemplate)}));case 3:return a.next=5,document.createElement("a");case 5:i=a.sent,i.href=URL.createObjectURL(new Blob([JSON.stringify(n,null,2)],{type:"application/json"})),i.setAttribute("download",n.Title+".json"),document.body.appendChild(i),i.click(),document.body.removeChild(i);case 11:case"end":return a.stop()}}),a)})))()}},created:function(){this.requestTemplates()},computed:{sortedArray:function(){return Object(le["a"])(this.templates).sort((function(t,e){return t.TemplateID.localeCompare(e.TemplateID)}))},templates:{get:function(){return this.$store.state.templates},set:function(t){this.$store.commit("getAllTemplates",t)}},selected:{get:function(){return this.$store.state.drawer.list.selected},set:function(t){this.$store.commit("setDrawerListSelected",t)}}}},ue=de,me=(a("0863"),a("4bd4")),pe=a("8860"),ge=a("da13"),fe=a("1800"),ve=a("5d23"),he=Object(g["a"])(ue,oe,re,!1,null,null,null),be=he.exports;v()(he,{VBtn:h["a"],VCard:b["a"],VCardActions:x["a"],VCardText:x["b"],VCardTitle:x["c"],VCol:ut["a"],VDialog:y["a"],VDivider:mt["a"],VForm:me["a"],VIcon:k["a"],VList:pe["a"],VListItem:ge["a"],VListItemAction:fe["a"],VListItemContent:ve["a"],VListItemSubtitle:ve["b"],VListItemTitle:ve["c"],VRow:gt["a"],VSpacer:_["a"],VTextField:A["a"],VToolbar:j["a"]});var xe={name:"App",data:function(){return{drawer:!1,temp:[],items:["Xóa phần"],snackbar:{hover:!1,snackbar:!1,text:"",timeout:5e3},nameTemplates:"untitled",loadingBtn:!1,oldTemplates:{},dragging:!1,loading:!1,retry:!1,id:"",createUpdateBtn:-1}},methods:{createNew:function(){this.$store.commit("setDrawerListSelected",""),this.nameTemplates="untitled",this.templates=JSON.stringify({templateID:"",logo_org:"https://lhu.edu.vn/ViewPage/LHUVN/_default/image/truong_dai_hoc_lac_hong_logo.png",name_org:"Trường Đại học Lạc Hồng",url_finishRedirect:"https://lhu.edu.vn/",Title:"TÊN PHIẾU KHẢO SÁT",Des:"Mô tả của phiếu khảo sát",url_login:"",url_template:"",Part:[{Name:"TÊN PHẦN",Des:"Mô tả phần",Question:[]}]})},change:function(){this.oldTemplates=JSON.stringify(Object(o["a"])({},this.templates)),this.snackbar.snackbar=!0},undo:function(){this.templates=this.oldTemplates,this.snackbar.snackbar=!1},scrollToBottom:function(){var t=document.getElementById("endpoint");t.scrollIntoView({behavior:"smooth",block:"end"})},loadTemplateExist:function(t){var e=this;this.id=t,this.loading=!0,this.retry=!1,this.$store.commit("setButton",!1),this.$store.dispatch("loadJsonDataByTemplateID",t).then((function(){e.loading=!1,e.$store.dispatch("kiemtraTemplateID",t).then((function(t){t.data.data[0].error?e.$store.commit("setButton",!0):e.$store.commit("setButton",!1)}))})).catch((function(){e.loading=!1,e.retry=!0}))}},computed:{getdate:function(){return this.$store.state.dates},templates:{get:function(){return this.$store.state.template},set:function(t){return this.$store.commit("setTemplate",t)}},viewMode:{get:function(){return this.$store.state.viewMode}},isDragging:{get:function(){return this.$store.state.dragging},set:function(t){return this.$store.commit("setDragging",t)}}},components:{Xacnhan:T,MainForm:se,jsonviewer:N,createTemplate:q,bottombar:X,navdrawer:be}},ye=xe,ke=(a("034f"),a("5c64"),a("7496")),_e=a("5bc1"),Ce=a("a523"),Te=a("553a"),we=a("ce87"),De=a("a722"),je=a("f6c4"),Oe=a("f774"),Ie=a("490a"),Ve=a("2db4"),$e=Object(g["a"])(ye,i,s,!1,null,null,null),Se=$e.exports;v()($e,{VApp:ke["a"],VAppBarNavIcon:_e["a"],VBtn:h["a"],VContainer:Ce["a"],VDivider:mt["a"],VFooter:Te["a"],VHover:we["a"],VIcon:k["a"],VLayout:De["a"],VMain:je["a"],VNavigationDrawer:Oe["a"],VProgressCircular:Ie["a"],VSnackbar:Ve["a"],VSpacer:_["a"],VTooltip:W["a"]});var Ne=a("f309");n["a"].use(Ne["a"]);var Be=new Ne["a"]({}),Qe=a("8c4f"),Me=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("img",{attrs:{alt:"Vue logo",src:a("cf05")}}),n("HelloWorld",{attrs:{msg:"Welcome to Your Vue.js App"}})],1)},Ye=[],Pe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",[n("v-row",{staticClass:"text-center"},[n("v-col",{attrs:{cols:"12"}},[n("v-img",{staticClass:"my-3",attrs:{src:a("9b19"),contain:"",height:"200"}})],1),n("v-col",{staticClass:"mb-4"},[n("h1",{staticClass:"display-2 font-weight-bold mb-3"},[t._v(" Welcome to Vuetify ")]),n("p",{staticClass:"subheading font-weight-regular"},[t._v(" For help and collaboration with other Vuetify developers, "),n("br"),t._v("please join our online "),n("a",{attrs:{href:"https://community.vuetifyjs.com",target:"_blank"}},[t._v("Discord Community")])])]),n("v-col",{staticClass:"mb-5",attrs:{cols:"12"}},[n("h2",{staticClass:"headline font-weight-bold mb-3"},[t._v(" What's next? ")]),n("v-row",{attrs:{justify:"center"}},t._l(t.whatsNext,(function(e,a){return n("a",{key:a,staticClass:"subheading mx-3",attrs:{href:e.href,target:"_blank"}},[t._v(" "+t._s(e.text)+" ")])})),0)],1),n("v-col",{staticClass:"mb-5",attrs:{cols:"12"}},[n("h2",{staticClass:"headline font-weight-bold mb-3"},[t._v(" Important Links ")]),n("v-row",{attrs:{justify:"center"}},t._l(t.importantLinks,(function(e,a){return n("a",{key:a,staticClass:"subheading mx-3",attrs:{href:e.href,target:"_blank"}},[t._v(" "+t._s(e.text)+" ")])})),0)],1),n("v-col",{staticClass:"mb-5",attrs:{cols:"12"}},[n("h2",{staticClass:"headline font-weight-bold mb-3"},[t._v(" Ecosystem ")]),n("v-row",{attrs:{justify:"center"}},t._l(t.ecosystem,(function(e,a){return n("a",{key:a,staticClass:"subheading mx-3",attrs:{href:e.href,target:"_blank"}},[t._v(" "+t._s(e.text)+" ")])})),0)],1)],1)],1)},Ee=[],Re={name:"HelloWorld",data:function(){return{ecosystem:[{text:"vuetify-loader",href:"https://github.com/vuetifyjs/vuetify-loader"},{text:"github",href:"https://github.com/vuetifyjs/vuetify"},{text:"awesome-vuetify",href:"https://github.com/vuetifyjs/awesome-vuetify"}],importantLinks:[{text:"Documentation",href:"https://vuetifyjs.com"},{text:"Chat",href:"https://community.vuetifyjs.com"},{text:"Made with Vuetify",href:"https://madewithvuejs.com/vuetify"},{text:"Twitter",href:"https://twitter.com/vuetifyjs"},{text:"Articles",href:"https://medium.com/vuetify"}],whatsNext:[{text:"Explore components",href:"https://vuetifyjs.com/components/api-explorer"},{text:"Select a layout",href:"https://vuetifyjs.com/getting-started/pre-made-layouts"},{text:"Frequently Asked Questions",href:"https://vuetifyjs.com/getting-started/frequently-asked-questions"}]}}},Ae=Re,He=Object(g["a"])(Ae,Pe,Ee,!1,null,null,null),qe=He.exports;v()(He,{VCol:ut["a"],VContainer:Ce["a"],VImg:Zt["a"],VRow:gt["a"]});var Je={name:"Home",components:{HelloWorld:qe}},Fe=Je,Le=Object(g["a"])(Fe,Me,Ye,!1,null,null,null),ze=Le.exports;n["a"].use(Qe["a"]);var Ue=[{path:"/",name:"Home",component:ze},{path:"/about",name:"About",component:function(){return a.e("about").then(a.bind(null,"f820"))}}],Ke=new Qe["a"]({mode:"history",base:"/",routes:Ue}),We=Ke,Ge=a("bc3a"),Xe=a.n(Ge),Ze="eyJ1aWQiOiIxMTgwMDAxNDgiLCJzaWQiOiI4QUQxODQ2RTg0MUNEMEU3IiwiZXhwIjoyMDgzODU4NTYwfQ.VXuyHaEY0alAcxh1CM0etjeAP3LRLu7wYY3JpwB7BFM",ta=Xe.a.create({baseURL:"https://tapi.lhu.edu.vn/qa",headers:{"Content-Type":"application/json",Authorization:"Bearer "+Ze}}),ea=a("2f62");n["a"].use(ea["a"]);var aa=new ea["a"].Store({state:{useless:!0,dates:[Y()().format("YYYY-MM-DD"),Y()().add(10,"days").format("YYYY-MM-DD")],template:{templateID:"",logo_org:"https://lhu.edu.vn/ViewPage/LHUVN/_default/image/truong_dai_hoc_lac_hong_logo.png",name_org:"Trường Đại học Lạc Hồng",url_finishRedirect:"https://lhu.edu.vn/",Title:"TÊN PHIẾU KHẢO SÁT",Des:"Mô tả của phiếu khảo sát",url_login:"",url_template:"",Part:[{Name:"TÊN PHẦN",Des:"Mô tả phần",Question:[]}]},drawer:{list:{selected:""}},form:{valid:!1},templates:[],viewMode:!0,dangChinhSua:!1,button:{createUpdate:!1},dragging:!1,moveControl:!1,required:function(t){return!!t||"Bắt buộc nhập !"}},mutations:{setDragging:function(t,e){t.dragging=e},setButton:function(t,e){t.button.createUpdate=e},setChinhSua:function(t,e){t.dangChinhSua=e},setDates:function(t,e){t.dates=e},setTemplates:function(t,e){return t.templates=e},setTemplate:function(t,e){return t.template=JSON.parse(e)},setDrawerListSelected:function(t,e){return t.drawer.list.selected=e},setQID:function(t){t.template.Part.map((function(t,e){var a=1e7*++e;t.Question.map((function(t,e){var n=a+1e4*++e;if("MarkTable"!==t.Type)return"Radio"===t.Type?(t.QID=n,void t.Option.map((function(e){void 0!=e.Question&&e.Question.map((function(e,a){e.QID=t.QID+1*++a}))}))):"Checkbox"===t.Type?(t.GroupID=n,void t.Option.map((function(e,a){e.QID=t.GroupID+10*++a,void 0!=e.Question&&e.Question.map((function(t,a){t.QID=e.QID+1*++a}))}))):void(t.QID=n);t.Topic.map((function(t,e){t.GroupID=n+100*++e,t.Question.map((function(e,a){e.QID=t.GroupID+1*++a}))}))}))}))},setViewMode:function(t){return t.viewMode=!t.viewMode}},actions:{getAllTemplates:function(){var t=Object(ce["a"])(regeneratorRuntime.mark((function t(e){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.commit,n=ta.get("/Web_SelectTemplate"),t.next=4,n.then((function(t){return a("setTemplates",t.data.data)})).catch((function(t){return console.log(t)}));case 4:return t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}(),createTemplate:function(t){var e=t.state,a=ta.post("/Web_TemplateUpdate",{TemplateID:e.template.templateID,TenKhaoSat:e.template.Title,jsonDataNew:JSON.stringify(e.template),NgayBD:Y()(e.dates[0]).format("MM-DD-YYYY"),NgayKT:e.dates.length>1?Y()(e.dates[1]).format("MM-DD-YYYY"):Y()(e.dates[0]).add(10,"days").format("MM-DD-YYYY")});return a},kiemtraTemplateID:function(){var t=Object(ce["a"])(regeneratorRuntime.mark((function t(e){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.state,t.next=3,ta.post("/Web_KiemTraTemplateID",{TemplateID:a.template.templateID});case 3:return n=t.sent,t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}(),deleteTemplate:function(){var t=Object(ce["a"])(regeneratorRuntime.mark((function t(e,a){var n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.state,n.useless=!0,i=ta.post("/Web_TemplateDelete",{TemplateID:a}),t.abrupt("return",i);case 4:case"end":return t.stop()}}),t)})));function e(e,a){return t.apply(this,arguments)}return e}(),updateThoiGianKhaoSat:function(t,e){var a=t.state;a.useless=!0;var n=ta.post("/Web_TemplateUpdateThoiGianKhaoSat",{TemplateID:e.templateID,NgayBD:Y()(e.dates[0]).format("MM-DD-YYYY"),NgayKT:e.dates.length>1?Y()(e.dates[1]).format("MM-DD-YYYY"):Y()(e.dates[0]).add(10,"days").format("MM-DD-YYYY")});return n},loadJsonDataByTemplateID:function(t,e){var a=t.commit,n=ta.post("/Web_LoadJsonDataByTemplateID",{TemplateID:e});return n.then(function(){var t=Object(ce["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a("setTemplate",e.data.data[0].JdataTemplate);case 2:return t.next=4,a("setQID");case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){console.log(t)})),n},getJsonDataByID:function(t,e){var a=t.state;a.useless=!0;var n=ta.post("/Web_LoadJsonDataByTemplateID",{TemplateID:e});return n}},modules:{}});n["a"].config.productionTip=!1,n["a"].prototype.$axios=ta,new n["a"]({vuetify:Be,router:We,store:aa,render:function(t){return t(Se)}}).$mount("#app")},"5c64":function(t,e,a){"use strict";a("d32a")},"67bb":function(t,e,a){},"85ec":function(t,e,a){},"92ad":function(t,e,a){"use strict";a("9b89")},"95e3":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pb-2"},[t.delShow?a("v-col",{staticClass:"d-inline drag mr-0 pr-0"},[a("v-btn",{attrs:{elevation:"0",color:"grey",large:"",icon:""},on:{click:function(e){t.change(),t.remove(),t.$store.commit("setQID"),t.edited()}}},[a("v-icon",[t._v("mdi-trash-can-outline")]),t._v(" "+t._s(t.deleteContent)+" ")],1)],1):t._e()],1)},i=[],s={props:{remove:Function,change:Function,deleteContent:String,savecontent:String,delShow:{type:Boolean,default:!0},saveShow:{type:Boolean,default:!0}},methods:{edited:function(){this.$emit("editable",!1)}}},o=s,r=a("2877"),l=a("6544"),c=a.n(l),d=a("8336"),u=a("62ad"),m=a("132d"),p=Object(r["a"])(o,n,i,!1,null,null,null);e["a"]=p.exports;c()(p,{VBtn:d["a"],VCol:u["a"],VIcon:m["a"]})},9798:function(t,e,a){},"9b19":function(t,e,a){t.exports=a.p+"img/logo.63a7d78d.svg"},"9b89":function(t,e,a){},bb1c:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"child"}},[t.notNull(t.data.Question)?a("div",{staticClass:"mt-1 mb-5 ml-15",attrs:{align:"right"}},[a("div",[a("draggable",t._b({attrs:{element:"span",group:{name:"child"},"ghost-class":"ghost2","scroll-sensitivity":250,handle:".pinter",sort:!0},on:{start:function(e){t.dragging=!0},end:function(e){t.dragging=!1},sort:function(e){return t.$store.commit("setQID")}},model:{value:t.data.Question,callback:function(e){t.$set(t.data,"Question",e)},expression:"data.Question"}},"draggable",t.dragOptions,!1),[a("transition-group",{attrs:{type:"transition",tag:"v-list"}},t._l(t.data.Question,(function(e,n){return a("div",{key:n,staticClass:"my-1"},[a(e.Type,{key:n,tag:"component",staticClass:"y-0",class:t.editing?"":"pinter",style:t.edititem!=n&&t.editing?"opacity: 0.2;":"",attrs:{align:"left",index:n,data:e,change:t.change,full:!1,editable:t.edititem==n},on:{isEditting:function(e){t.editing=e,t.edititem=-1},remove:t.removeChild}})],1)})),0)],1)],1),a("v-flex",{staticClass:"grey lighten-3 rounded-bl rounded-tl"},[a("v-btn",{staticClass:"text-sm-subtitle-2 blue align-center",attrs:{color:"white",tile:"",text:""},on:{click:t.addTextBox}},[a("span",[a("v-icon",[t._v("mdi-text-short")])],1)]),a("v-divider",{attrs:{vertical:""}}),a("v-btn",{staticClass:"text-sm-subtitle-2 blue align-center",attrs:{color:"white",tile:"",text:""},on:{click:t.addRadio}},[a("span",[a("v-icon",[t._v("mdi-radiobox-marked")])],1)])],1)],1):t._e()])},i=[],s=(a("a434"),a("a9e3"),a("d3b7"),a("b76a")),o=a.n(s),r={name:"child-control",props:{i:Number,data:{Question:Array},change:Function},data:function(){return{}},methods:{notNull:function(t){return void 0!=t},removeChild:function(t){this.data.Question.splice(t,1)},addTextBox:function(){this.data.Question.push({QID:"",Required:!1,Type:"TextBox",Text:"Câu hỏi",Holder:""}),this.$store.commit("setQID")},addRadio:function(){this.data.Question.push({QID:"",Type:"Radio",Text:"Câu hỏi",Option:[{Text:"Tuỳ chọn 1"},{Text:"Tuỳ chọn 2"}]}),this.$store.commit("setQID")}},components:{TextBox:function(){return Promise.resolve().then(a.bind(null,"cef7"))},Radio:function(){return Promise.resolve().then(a.bind(null,"5526"))},draggable:o.a},computed:{dragOptions:function(){return{animation:220,disabled:!1}}}},l=r,c=a("2877"),d=a("6544"),u=a.n(d),m=a("8336"),p=a("ce7e"),g=a("0e8f"),f=a("132d"),v=Object(c["a"])(l,n,i,!1,null,"1bf0a742",null);e["a"]=v.exports;u()(v,{VBtn:m["a"],VDivider:p["a"],VFlex:g["a"],VIcon:f["a"]})},bef8:function(t,e,a){},cc0f:function(t,e,a){},cef7:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"textbox"}},[a("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:function(){t.editable=!1,t.editing(!1)},expression:"()=>{editable = false;editing(false)}"}],class:(t.editable?"hold":"")+" "+(t.full&&0==t.dragging?"py-2":"py-0")},[t.editable?a("div",{staticClass:"px-3"},[a("v-text-field",{staticClass:"my-5 font-weight-bold",attrs:{dense:"",autofocus:"","hide-details":""},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.editing(!1)}},model:{value:t.data.Text,callback:function(e){t.$set(t.data,"Text",e)},expression:"data.Text"}}),a("v-text-field",{staticClass:"my-2",attrs:{placeholder:"Gợi ý nhập",dense:""},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.editing(!1)}},model:{value:t.data.Holder,callback:function(e){t.$set(t.data,"Holder",e)},expression:"data.Holder"}}),a("v-divider",{staticClass:"my-4"}),a("v-flex",{staticClass:"mx-3 mt4"},[a("v-row",[a("v-col",{staticClass:"drag",staticStyle:{height:"40px"}},[a("v-switch",{staticClass:"my-0 py-0",attrs:{color:"error",inset:"",dense:"",label:"Bắt buộc"},model:{value:t.data.Required,callback:function(e){t.$set(t.data,"Required",e)},expression:"data.Required"}})],1),a("v-spacer"),a("toolbax",{attrs:{change:t.change,remove:t.remove},on:{editable:function(e){t.editing(!1),t.editable=e}}})],1)],1)],1):t._e(),t.editable?t._e():a("div",{staticClass:"pointer",on:{click:function(e){t.editable=!0,t.editing(!0)}}},[t.full&&0==t.dragging?a("div",[a("div",{staticClass:"text-start mb-3 font-weight-bold",domProps:{textContent:t._s(t.data.Text)}}),a("v-text-field",{staticClass:"mx-0",attrs:{disabled:"","hide-details":"",placeholder:t.data.Holder,outlined:"",dense:""}})],1):t._e(),0==t.full&&0==t.dragging?a("div",{attrs:{align:"left"}},[a("v-flex",{staticClass:"grey lighten-3 rounded pa-2"},[a("span",{staticClass:"mr-2"},[a("v-icon",[t._v("mdi-text-short")])],1),a("span",{staticClass:"text-subtitle-2 mb-2",domProps:{textContent:t._s("Trả lời ngắn")}})])],1):t._e(),t.dragging?a("div",{attrs:{align:"left"}},[a("v-flex",{staticClass:"grey lighten-3 rounded pa-2"},[a("span",{staticClass:"mr-2"},[a("v-icon",[t._v("mdi-text-short")])],1),a("span",{staticClass:"text-subtitle-2 mb-2",domProps:{textContent:t._s(t.data.Text)}})])],1):t._e()])])])},i=[],s=(a("a9e3"),a("95e3")),o={name:"Textbox",props:{data:{QID:String,Required:Boolean,Text:String,Holder:String},change:Function,index:Number,full:{type:Boolean,default:!0},dragging:{type:Boolean,default:!1}},data:function(){return{editable:!1}},methods:{editing:function(t){this.$store.commit("setChinhSua",t)},remove:function(){this.$emit("remove",this.index)}},components:{toolbax:s["a"]}},r=o,l=a("2877"),c=a("6544"),d=a.n(c),u=a("62ad"),m=a("ce7e"),p=a("0e8f"),g=a("132d"),f=a("0fd9"),v=a("2fa4"),h=a("b73d"),b=a("8654"),x=a("269a"),y=a.n(x),k=a("a293"),_=Object(l["a"])(r,n,i,!1,null,null,null);e["default"]=_.exports;d()(_,{VCol:u["a"],VDivider:m["a"],VFlex:p["a"],VIcon:g["a"],VRow:f["a"],VSpacer:v["a"],VSwitch:h["a"],VTextField:b["a"]}),y()(_,{ClickOutside:k["a"]})},cf05:function(t,e,a){t.exports=a.p+"img/logo.ddf21faf.png"},d32a:function(t,e,a){},e327:function(t,e,a){"use strict";a("1606")},f3b3:function(t,e,a){"use strict";a("f751")},f751:function(t,e,a){},f923:function(t,e,a){"use strict";a("9798")}});
//# sourceMappingURL=app.37b06984.js.map